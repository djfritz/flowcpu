{"ScheduledType":"flow","GUID":"7db2c10a-8166-4045-99c6-a6b1fb823872","Name":"Stage 4 - Writeback","Description":"","Labels":null,"Schedule":"* * * * *","Timezone":"","Disabled":false,"Duration":0,"Flow":"{\"id\":\"gravwell@0.0.1\",\"nodes\":{\"87\":{\"id\":87,\"name\":\"RunQuery\",\"inputs\":{\"in\":{\"connections\":[{\"node\":107,\"output\":\"out\",\"data\":{}}]}},\"outputs\":{\"out\":{\"connections\":[{\"node\":88,\"input\":\"in\",\"data\":{}}]}},\"data\":{\"querystring\":{\"type\":\"Constant\",\"value\":\"dump -r pipeline3 | table rt data\"},\"duration\":{\"type\":\"Constant\",\"value\":\"PT1H\"},\"name\":{\"type\":\"Constant\",\"value\":\"search\"},\"__meta\":{\"inputs\":[],\"values\":{\"querystring\":{\"type\":{\"kind\":\"string:query\"},\"value\":\"dump -r pipeline3 | table rt data\"},\"duration\":{\"type\":{\"kind\":\"string:isoduration\",\"default\":\"PT1H\"},\"value\":\"PT1H\"},\"name\":{\"type\":{\"kind\":\"string\",\"default\":\"search\"},\"value\":\"search\"}}}},\"position\":[320,288]},\"88\":{\"id\":88,\"name\":\"GetTableResults\",\"inputs\":{\"in\":{\"connections\":[{\"node\":87,\"output\":\"out\",\"data\":{}}]}},\"outputs\":{\"out\":{\"connections\":[{\"node\":89,\"input\":\"in\",\"data\":{}},{\"node\":90,\"input\":\"in\",\"data\":{}}]}},\"data\":{\"search\":{\"type\":\"Variable\",\"value\":\"search\"},\"count\":{\"type\":\"Constant\",\"value\":1},\"name\":{\"type\":\"Constant\",\"value\":\"control\"},\"__meta\":{\"inputs\":[],\"values\":{\"search\":{\"type\":{\"kind\":\"variable\"},\"value\":\"search\"},\"count\":{\"type\":{\"kind\":\"int\"},\"value\":1},\"name\":{\"type\":{\"kind\":\"string\",\"default\":\"tableResults\"},\"value\":\"control\"}}}},\"position\":[576,288]},\"89\":{\"id\":89,\"name\":\"Template\",\"inputs\":{\"in\":{\"connections\":[{\"node\":88,\"output\":\"out\",\"data\":{}}]}},\"outputs\":{\"out\":{\"connections\":[{\"node\":91,\"input\":\"base\",\"data\":{}}]}},\"data\":{\"template\":{\"type\":\"Constant\",\"value\":\"{{ index .control.Data 0 0 }}\"},\"name\":{\"type\":\"Constant\",\"value\":\"rt\"},\"__meta\":{\"inputs\":[],\"values\":{\"template\":{\"type\":{\"kind\":\"string:longtext\"},\"value\":\"{{ index .control.Data 0 0 }}\"},\"name\":{\"type\":{\"kind\":\"string\",\"default\":\"templateOutput\"},\"value\":\"rt\"}}}},\"position\":[864,240]},\"90\":{\"id\":90,\"name\":\"Template\",\"inputs\":{\"in\":{\"connections\":[{\"node\":88,\"output\":\"out\",\"data\":{}}]}},\"outputs\":{\"out\":{\"connections\":[{\"node\":91,\"input\":\"0\",\"data\":{}}]}},\"data\":{\"template\":{\"type\":\"Constant\",\"value\":\"{{ index .control.Data 0 1 }}\"},\"name\":{\"type\":\"Constant\",\"value\":\"data\"},\"__meta\":{\"inputs\":[],\"values\":{\"template\":{\"type\":{\"kind\":\"string:longtext\"},\"value\":\"{{ index .control.Data 0 1 }}\"},\"name\":{\"type\":{\"kind\":\"string\",\"default\":\"templateOutput\"},\"value\":\"data\"}}}},\"position\":[864,336]},\"91\":{\"id\":91,\"name\":\"StackMerge\",\"inputs\":{\"0\":{\"connections\":[{\"node\":90,\"output\":\"out\",\"data\":{}}]},\"base\":{\"connections\":[{\"node\":89,\"output\":\"out\",\"data\":{}}]}},\"outputs\":{\"out\":{\"connections\":[{\"node\":92,\"input\":\"in\",\"data\":{}}]}},\"data\":{\"__meta\":{\"inputs\":[{\"key\":\"0\",\"title\":\"0\",\"type\":\"payload\",\"multiconns\":false}],\"values\":{}}},\"position\":[1136,288]},\"92\":{\"id\":92,\"name\":\"If\",\"inputs\":{\"in\":{\"connections\":[{\"node\":91,\"output\":\"out\",\"data\":{}}]}},\"outputs\":{\"out\":{\"connections\":[{\"node\":93,\"input\":\"in\",\"data\":{}}]}},\"data\":{\"lhs\":{\"type\":\"Variable\",\"value\":\"rt\"},\"op\":{\"type\":\"Constant\",\"value\":\"!=\"},\"rhs\":{\"type\":\"Constant\",\"value\":\"0\"},\"__meta\":{\"inputs\":[],\"values\":{\"lhs\":{\"type\":{\"kind\":\"variable\"},\"value\":\"rt\"},\"op\":{\"type\":{\"kind\":\"enum:string\",\"values\":[\"==\",\"!=\",\"<\",\"<=\",\">\",\">=\"]},\"value\":\"!=\"},\"rhs\":{\"type\":{\"kind\":\"string\"},\"value\":\"0\"}}}},\"position\":[1408,304]},\"93\":{\"id\":93,\"name\":\"Template\",\"inputs\":{\"in\":{\"connections\":[{\"node\":92,\"output\":\"out\",\"data\":{}}]}},\"outputs\":{\"out\":{\"connections\":[{\"node\":94,\"input\":\"in\",\"data\":{}}]}},\"data\":{\"template\":{\"type\":\"Constant\",\"value\":\"dump -r rf \\n| eval (\\n   if ( int(number) == int({{.rt}}) ) {\\n      data = int({{.data}})\\n   }\\n )\\n| table -save rf number data use\"},\"name\":{\"type\":\"Constant\",\"value\":\"writeback\"},\"__meta\":{\"inputs\":[],\"values\":{\"template\":{\"type\":{\"kind\":\"string:longtext\"},\"value\":\"dump -r rf \\n| eval (\\n   if ( int(number) == int({{.rt}}) ) {\\n      data = int({{.data}})\\n   }\\n )\\n| table -save rf number data use\"},\"name\":{\"type\":{\"kind\":\"string\",\"default\":\"templateOutput\"},\"value\":\"writeback\"}}}},\"position\":[1632,304]},\"94\":{\"id\":94,\"name\":\"RunQuery\",\"inputs\":{\"in\":{\"connections\":[{\"node\":93,\"output\":\"out\",\"data\":{}}]}},\"outputs\":{\"out\":{\"connections\":[]}},\"data\":{\"querystring\":{\"type\":\"Variable\",\"value\":\"writeback\"},\"duration\":{\"type\":\"Constant\",\"value\":\"PT1H\"},\"name\":{\"type\":\"Constant\",\"value\":\"search\"},\"__meta\":{\"inputs\":[],\"values\":{\"querystring\":{\"type\":{\"kind\":\"variable\"},\"value\":\"writeback\"},\"duration\":{\"type\":{\"kind\":\"string:isoduration\",\"default\":\"PT1H\"},\"value\":\"PT1H\"},\"name\":{\"type\":{\"kind\":\"string\",\"default\":\"search\"},\"value\":\"search\"}}}},\"position\":[1888,304]},\"107\":{\"id\":107,\"name\":\"Sleep\",\"inputs\":{\"in\":{\"connections\":[]}},\"outputs\":{\"out\":{\"connections\":[{\"node\":87,\"input\":\"in\",\"data\":{}}]}},\"data\":{\"sleep\":{\"type\":\"Constant\",\"value\":40},\"__meta\":{\"nickname\":null,\"notes\":null,\"inputs\":[],\"values\":{\"sleep\":{\"type\":{\"kind\":\"int\"},\"value\":40}}}},\"position\":[-32,288]}}}"}